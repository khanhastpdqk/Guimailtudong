<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Send Email with PDF</title>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3.2.0/dist/email.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            text-align: center;
            padding: 50px;
        }
        h1 {
            color: #4CAF50;
        }
        h2 {
            color: #F44336;
        }
        .spinner {
            border: 6px solid #f3f3f3;
            border-top: 6px solid #4CAF50;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <h1>Đang gửi email...</h1>
    <div class="spinner"></div>

    <script>
        async function createPDF(studentName, courseName) {
            const { jsPDF } = window.jspdf;
            const pdf = new jsPDF();

            // Chèn font Việt hóa (Roboto) từ Base64
            const robotoFontBase64 = "PUT_YOUR_BASE64_ENCODED_FONT_HERE"; // Thay thế với mã Base64 của font Roboto
            pdf.addFileToVFS("Roboto-Regular.ttf", robotoFontBase64);
            pdf.addFont("Roboto-Regular.ttf", "Roboto", "normal");
            pdf.setFont("Roboto");

            // Thêm text
            pdf.setFontSize(16);
            pdf.text(`CHỨNG NHẬN HOÀN THÀNH KHÓA HỌC`, 105, 20, { align: "center" });
            pdf.setFontSize(12);
            pdf.text(`Học viên: ${studentName}`, 20, 40);
            pdf.text(`Khóa học: ${courseName}`, 20, 50);

            // Thêm hình nền
            const imageUrl = "https://i.imgur.com/Rhvxj8Z.jpg";
            const img = await fetch(imageUrl).then(res => res.blob());
            const imgBase64 = await new Promise((resolve) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.readAsDataURL(img);
            });
